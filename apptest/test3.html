<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <style>
button {
  background-color: #4CAF50; /* Green */
  border: none;
  color: white;
  padding: 15px 32px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 20px;
  margin: 4px 2px;
  cursor: pointer;
  width: 40%;
  height: 50px;
}

div#test_button {
    margin-left: auto;
    margin-right: auto;
    text-align: center;
    justify-content: center;
}

a {font-size: 50px}


</style>
</head>

<body>
<script>
            

            function openApp() {
              var userAgent = navigator.userAgent || navigator.vendor || window.opera;
              var now = Date.now();
              var timeout;

              if (/android/i.test(userAgent)) {
                // Android: 앱 실행 → 실패 시 Play Store 이동
                window.location.href = "intent://main_web#Intent;scheme=insuremas;package=com.insure.mas.aos;S.linkUrl=https://www.myangel.co.kr;end;";
                timeout = setTimeout(function () {
                  window.location.href = "https://play.google.com/store/apps/details?id=com.insure.mas.aos";
                }, 2000);
              } else if (/iPhone|iPad|iPod/i.test(userAgent)) {
                // iOS: 앱 실행 → 실패 시 App Store 이동
                window.location.href = "insuremas://main_web?linkUrl=https://https://www.myangel.co.kr";
                timeout = setTimeout(function () {
                  window.location.href = "https://apps.apple.com/app/id6743102604";
                }, 2000);
              }

              // 페이지 이탈 감지 시 timeout 취소
              window.onblur = function () {
                clearTimeout(timeout);
              };
            }

            function openApp2() {
              var userAgent = navigator.userAgent || navigator.vendor || window.opera;
              var now = Date.now();
              var timeout;

              if (/android/i.test(userAgent)) {
                  window.location.href = "https://play.google.com/store/apps/details?id=com.insure.mas.aos";
              } else if (/iPhone|iPad|iPod/i.test(userAgent)) {
                  window.location.href = "https://apps.apple.com/app/id6743102604";
              }
            }


         function generateDeepLinks() {
            // input에서 값 가져오기
            let linkUrl = document.getElementById("urlInput").value.trim();

            // URL 인코딩 (필요한 경우)
            let encodedLinkUrl = encodeURIComponent(linkUrl);

            // 안드로이드 전체주소 딥링크
            let androidDeepLinkFull = `intent://main_web#Intent;scheme=insuremas;package=com.insure.mas.aos;S.linkUrl=${encodedLinkUrl};end;`;

            // iOS 전체주소 딥링크
            let iosDeepLinkFull = `insuremas://main_web?linkUrl=${encodedLinkUrl}`;


            // 생성된 딥링크를 a 태그에 적용
            document.getElementById("androidDeepLinkFull").href = androidDeepLinkFull;
            document.getElementById("androidDeepLinkFull").innerText = androidDeepLinkFull;


            document.getElementById("iosDeepLinkFull").href = iosDeepLinkFull;
            document.getElementById("iosDeepLinkFull").innerText = iosDeepLinkFull;

        }
    </script>
    
    
    
    <label for="urlInput">링크 입력:</label>
    <input type="text" id="urlInput" placeholder="https://www.naver.com">
    <br>
    <button onclick="generateDeepLinks()">딥링크 생성</button>

    <p>안드로이드 딥링크</p>
    <a id="androidDeepLinkFull" href="#" target="_blank">안드로이드 딥링크</a>

    <p>iOS 딥링크</p>
    <a id="iosDeepLinkFull" href="#" target="_blank">iOS 딥링크</a>

<br/>
<br/>
<br/>
        <br/>
        <br/>
        <button onclick="openApp2()">openApp2</button>
        <br/>
        <br/>
        <button onclick="openApp()">openApp</button>
        <br/>
        <br/>

<!--
<button onclick="callTransKeypadQWERTY();">안드로이드 딥링크</button>
-->
<a href="intent://main_web#Intent;scheme=insuremas;package=com.insure.mas.aos;S.linkUrl=https://www.naver.com;end;" target="blank">안드로이드 딥링크(전체주소)</a>
<br/>
<br/>
<a href="intent://main_web#Intent;scheme=insuremas;package=com.insure.mas.aos;S.linkUrl=/guide;end;" target="blank">안드로이드 딥링크(상대주소)</a>
<br/>
<br/>
<a href="insuremas://main_web?linkUrl=https://www-sd.myangel.co.kr:17443" target="blank">iOS 딥링크(전체주소)</a>
<br/>
<br/>
<a href="insuremas://main_web?linkUrl=/guide" target="blank">iOS 딥링크(상대주소)</a>
</div>
</body>
</html>

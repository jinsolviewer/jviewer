<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <style>
button {
  background-color: #4CAF50; /* Green */
  border: none;
  color: white;
  padding: 15px 32px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 20px;
  margin: 4px 2px;
  cursor: pointer;
  width: 40%;
  height: 50px;
}

div#test_button {
    margin-left: auto;
    margin-right: auto;
    text-align: center;
    justify-content: center;
}

a {font-size: 50px}


</style>
</head>

<body>
<script>
            function aa(){
                console.log("aa");
                var d = new Date();
                var n = d.getTime();
                var textnode = document.createTextNode("네이티브 콜백 요청 : "+n);         // Create a text node
                document.getElementsByTagName('body')[0].appendChild(textnode);

                var a = [
                         {
                            func : "bb",
                            user : "홍길동",
                            age: 35,
                            time : n
                         },
                         {
                            user : "이순",
                            age: 33,
                            time : n

                         }
                         ]
                console.log(JSON.stringify(a));
                window.webkit.messageHandlers.invoke.postMessage(JSON.stringify(a));
            }
        function bb(result){
            var obj = {api:'getGalleryImage', callback:'callbackGalleryImage'};
            MobileBridge.invoke(obj);
        }

            function openApp() {
              var userAgent = navigator.userAgent || navigator.vendor || window.opera;
              var now = Date.now();
              var timeout;

              if (/android/i.test(userAgent)) {
                // Android: 앱 실행 → 실패 시 Play Store 이동
                window.location.href = "intent://main_web#Intent;scheme=insuremas;package=com.insure.mas.aos;S.linkUrl=https://www.myangel.co.kr;end;";
                timeout = setTimeout(function () {
                  window.location.href = "https://play.google.com/store/apps/details?id=com.insure.mas.aos";
                }, 2000);
              } else if (/iPhone|iPad|iPod/i.test(userAgent)) {
                // iOS: 앱 실행 → 실패 시 App Store 이동
                window.location.href = "insuremas://main_web?linkUrl=https://https://www.myangel.co.kr";
                timeout = setTimeout(function () {
                  window.location.href = "https://apps.apple.com/app/id6743102604";
                }, 2000);
              }

              // 페이지 이탈 감지 시 timeout 취소
              window.onblur = function () {
                clearTimeout(timeout);
              };
            }

            function openApp2() {
              var userAgent = navigator.userAgent || navigator.vendor || window.opera;
              var now = Date.now();
              var timeout;

              if (/android/i.test(userAgent)) {
                  window.location.href = "https://play.google.com/store/apps/details?id=com.insure.mas.aos";
              } else if (/iPhone|iPad|iPod/i.test(userAgent)) {
                  window.location.href = "https://apps.apple.com/app/id6743102604";
              }
            }


        function callTransKeypadQWERTY(){
            var obj = {
                api:        'showTransKey',
                callback:   'callbackDummy',
                param: {
                    keyPadType: 'mTK_TYPE_KEYPAD_QWERTY_LOWER',
                    textType:   'mTK_TYPE_TEXT_PASSWORD_EX',
                    label:  '패스워드를 입력해 주세요',
                    hint:   '패스워드',
                    maxLength:  22,
                    maxLengthMessage:   '최대 길이를 초과했습니다',
                    minLength:  4,
                    minLengthMessage:   '최소 길이는 4자입니다.',
                    line3Padding: 1,
                    reduceRate: 1
                }
            };
            MobileBridge.invoke(obj);
        }

        function callTransKeypadNUM(){
            var obj = {
                api:        'showTransKey',
                callback:   'callbackDummy',
                param: {
                    keyPadType: 'mTK_TYPE_KEYPAD_NUMBER',
                    textType:   'mTK_TYPE_TEXT_PASSWORD_EX',
                    label:  '간편번호를 입력해 주세요',
                    hint:   '8자리간편번호',
                    maxLength:  8,
                    maxLengthMessage:   '최대 길이를 초과했습니다',
                    minLength:  8,
                    minLengthMessage:   '최소 길이는 8자 입니다.',
                    line3Padding: 1,
                    reduceRate: 1
                }
            };
            MobileBridge.invoke(obj);
        }


        function callPopup(result){
            var obj = {api:'addNewTab', callback:'callbackDummy'};
            MobileBridge.invoke(obj);
        }

        function callGetTabImages(){
            var obj = {api:'getTabImages', callback:'callbackDummy'};
            MobileBridge.invoke(obj);
        }


        function callbackDummy(obj){
        }

        function callbackGalleryImage(obj){
            var b64ImageStr = obj.b64ImageStr;
            var src = 'data:image/jpeg;base64,'+ b64ImageStr;
            var imageNode = document.createElement("img");
            imageNode.setAttribute("src", src);
            imageNode.setAttribute("height", "768");
            imageNode.setAttribute("width", "1024");
            document.getElementsByTagName('body')[0].appendChild(imageNode);
        }
        function imageCallback(base64Image){
            var src = 'data:image/jpeg;base64,'+ base64Image;
            var imageNode = document.createElement("img");
            imageNode.setAttribute("src", src);
            imageNode.setAttribute("height", "768");
            imageNode.setAttribute("width", "1024");
            document.getElementsByTagName('body')[0].appendChild(imageNode);
        }

        var MobileBridge = {
            invoke : function(json){
                window.android.invoke(JSON.stringify(json));
            }
        }


function fullScreenCheck() {
  if (document.fullscreenElement) return;
  return document.documentElement.requestFullscreen();
}

function updateDetails(lockButton) {
  const buttonOrientation = getOppositeOrientation();
  lockButton.textContent = `Lock to ${buttonOrientation}`;
}

function getOppositeOrientation() {
  const { type } = screen.orientation;
  return type.startsWith("portrait") ? "landscape" : "portrait";
}

async function rotate(lockButton) {
  try {
    await fullScreenCheck();
  } catch (err) {
    console.error(err);
  }
  const newOrientation = getOppositeOrientation();
  await screen.orientation.lock(newOrientation);
  updateDetails(lockButton);
}

function show() {
  const { type, angle } = screen.orientation;
  console.log(`Orientation type is ${type} & angle is ${angle}.`);
}

screen.orientation.addEventListener("change", () => {
  show();
  updateDetails(document.getElementById("button"));
});

window.addEventListener("load", () => {
  show();
  updateDetails(document.getElementById("button"));
});



    <script>
        function generateDeepLinks() {
            // input에서 값 가져오기
            let linkUrl = document.getElementById("urlInput").value.trim();

            // URL 인코딩 (필요한 경우)
            let encodedLinkUrl = encodeURIComponent(linkUrl);

            // 안드로이드 전체주소 딥링크
            let androidDeepLinkFull = `intent://main_web#Intent;scheme=insuremas;package=com.insure.mas.aos;S.linkUrl=${encodedLinkUrl};end;`;

            // iOS 전체주소 딥링크
            let iosDeepLinkFull = `insuremas://main_web?linkUrl=${encodedLinkUrl}`;


            // 생성된 딥링크를 a 태그에 적용
            document.getElementById("androidDeepLinkFull").href = androidDeepLinkFull;
            document.getElementById("androidDeepLinkFull").innerText = androidDeepLinkFull;


            document.getElementById("iosDeepLinkFull").href = iosDeepLinkFull;
            document.getElementById("iosDeepLinkFull").innerText = iosDeepLinkFull;

        }
    </script>
    
    
    
    <label for="urlInput">링크 입력:</label>
    <input type="text" id="urlInput" placeholder="https://www.naver.com">
    <br>
    <button onclick="generateDeepLinks()">딥링크 생성</button>

    <p>안드로이드 딥링크</p>
    <a id="androidDeepLinkFull" href="#" target="_blank">안드로이드 딥링크</a>

    <p>iOS 딥링크</p>
    <a id="iosDeepLinkFull" href="#" target="_blank">iOS 딥링크</a>

<br/>
<br/>
<br/>
        <br/>
        <br/>
        <button onclick="openApp2()">openApp2</button>
        <br/>
        <br/>
        <button onclick="openApp()">openApp</button>
        <br/>
        <br/>

<!--
<button onclick="callTransKeypadQWERTY();">안드로이드 딥링크</button>
-->
<a href="intent://main_web#Intent;scheme=insuremas;package=com.insure.mas.aos;S.linkUrl=https://www.naver.com;end;" target="blank">안드로이드 딥링크(전체주소)</a>
<br/>
<br/>
<a href="intent://main_web#Intent;scheme=insuremas;package=com.insure.mas.aos;S.linkUrl=/guide;end;" target="blank">안드로이드 딥링크(상대주소)</a>
<br/>
<br/>
<a href="insuremas://main_web?linkUrl=https://www-sd.myangel.co.kr:17443" target="blank">iOS 딥링크(전체주소)</a>
<br/>
<br/>
<a href="insuremas://main_web?linkUrl=/guide" target="blank">iOS 딥링크(상대주소)</a>
</div>
</body>
</html>
